<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="main.css">
    <script src="main.js" defer></script>
    <script src="//unpkg.com/alpinejs" defer></script>
</head>

<body onload="onload()">
    <div id="body-wrapper">
        <div>
            <p>
                Welcome to <span style=" font-weight: bold; color: saddlebrown;">Instant</span> <span style="font-weight: bold; color: saddlebrown;">Preview</span> for HTML files, made by <a href="https://blog.kowalczyk.info/contactme.html" target="_blank">kjk</a>.
            </p>
            <p>
                Get an instant, temporary preview of html files or websites. <a </p>
                    <p>
                        Upload a single .html file, multiple files, a directory or a .zip file with html / css / javascript.
                    </p>
                    <p>
                        The files are private (hosted under random, un-guessable url) and will be deleted after ~2 hrs.
                    </p>
                    <p>Upload using curl:
                        <ul>
                            <li><code>curl -F name-on-server.html=@local-file.html https://www.instantpreview.dev/upload</code></li>
                            <li>or: <code>curl --upload-file local-file.html https://www.instantpreview.dev/name-on-server.html</code> </li>
                            <li>or to upload directory:<code>zip -9 -r website.zip www; curl --upload-file website.zip https://www.instantpreview.dev/upload</code></li>
                        </ul>
                    </p>
                    <p>Max size of a single file: 5 MB, max size of all files: 10 MB.</p>
        </div>

        <div id="drop-area">
            <form class="upload-form" method="post" action="" enctype="miltipart/format-data">
                <p>To upload for instant preview, drag & drop: a file, multiple files, folder or a ZIP file. Or use button below to select files for upload.
                </p>
                <input type="file" id="fileElem" multiple onchange="handleFiles(this.files)">
                <label class="select-files-button" for="fileElem">Select files for upload</label>
            </form>
        </div>

        <div id="upload-status">
        </div>
        <div id="upload-error">
        </div>

        <div id="summary" x-show="data" x-data="{ data: {} }" x-init="data = await loadSummary()">
            Serving
            <span x-text="data.SitesCount"></span>
            sites of total size <span x-text="data.SitesSizeStr"></span>
        </div>
    </div>
</body>

</html>